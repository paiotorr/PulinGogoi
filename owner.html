<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Owner Orders View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  padding: 16px;
  background: #f5f5f5;
}

.order {
  background: #ffffff;
  border: 1px solid #ccc;
  padding: 12px;
  margin-bottom: 15px;
  border-radius: 6px;
}

.order h3 {
  margin: 0 0 6px 0;
}

.item {
  display: flex;
  align-items: center;
  margin-top: 8px;
}

.item img {
  width: 55px;
  height: 55px;
  object-fit: cover;
  border-radius: 4px;
  margin-right: 10px;
}

.clear-btn {
  margin-bottom: 15px;
  padding: 8px 12px;
}
</style>
</head>

<body>

<h2>ðŸ“‹ Owner Order Panel</h2>

<button class="clear-btn" onclick="clearOrders()">Clear All Orders</button>

<div id="orders"></div>

<script>
function loadOrders() {
  const container = document.getElementById("orders");
  container.innerHTML = "";

  const orders = JSON.parse(localStorage.getItem("orders") || "[]");

  if (orders.length === 0) {
    container.innerHTML = "<p>No orders yet.</p>";
    return;
  }

  orders.forEach(order => {
    const box = document.createElement("div");
    box.className = "order";

    let itemsHTML = "";
    order.items.forEach(item => {
      itemsHTML += `
        <div class="item">
          <img src="${item.img}">
          <div>
            <b>${item.name}</b><br>
            Quantity: ${item.qty}
          </div>
        </div>
      `;
    });

    box.innerHTML = `
      <h3>Table: ${order.table}</h3>
      <small>Time: ${order.time}</small>
      ${itemsHTML}
    `;

    container.appendChild(box);
  });
}

function clearOrders() {
  if (confirm("Delete all orders?")) {
    localStorage.removeItem("orders");
    loadOrders();
  }
}

loadOrders();
setInterval(loadOrders, 3000); // auto refresh every 3 seconds
</script>

</body>
</html>